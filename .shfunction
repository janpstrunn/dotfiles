#!/bin/env bash

function cds() {
  session=$(tmux display-message -p '#{session_path}')
  cd "$session" || exit
}

function weather() {
  curl http://wttr.in/"$1"
}

function tp() {
  #Tmuxp Attacher
  session=$(find "$HOME/.config/tmuxp/" -type f -name '*.yaml' -printf '%P\n' | awk -F. '{print $1}')
  select=$(echo "$session" | fzf --tmux "$@")
  if tmux has-session -t "$select"; then
    tmux attach-session -t "$select"
  else
    tmuxp load "$select"
  fi
}

function cr() {
  export repo=$(fd . "$DEV" --type=directory --max-depth 1 --color always | fzf --ansi --preview "onefetch {}" --preview-window up)

  [[ -n "$repo" ]] && cd "$repo" || exit
}

# Task Done In Day
function tskd() {
  year=$1
  month=$2
  day=$3
  date="$year-$month-$day"
  next_day=$(date -d "$date + 1 day" '+%F')
  task end.after:$date and end.before:$next_day completed
}

# Task Done Today
function tskt() {
  date=$(date +%F)
  task end.after:$date completed
}
